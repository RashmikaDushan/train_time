<!DOCTYPE html>


<html>

<head>
    <title>Train Arrival</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>


<body>

    <h1 id="data-heading" class="data-heading">Train Arrival</h1>
    <p id="data"></p>

    <script>
        function updateData(newData) {
            if(newData!=-1){
                document.getElementById('data').innerText = "Train will be arrived in "+ newData +" minutes";
            }
            else{
                document.getElementById('data').innerText = "Train arrived!";
            }
        }

        function fetchData() {
            fetch('/get_data')
                .then(response => response.json())
                .then(data => updateData(data.value))
                .catch(error => console.error('Error:', error));
        }
        setInterval(fetchData, 1000);
        fetchData();
    </script>
</body>
